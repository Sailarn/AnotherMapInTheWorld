(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(16),s=r.n(o),l=(r(57),r(58),r(59),r(60),r(6)),i=r(7),p=r(9),c=r(8),u=r(10),d=(r(61),r(62),r(5)),m="GOOGLE_API",g="WAYPOINTS",f="POLYLINE",y="MARKERS",v="ADDRESSES",b="ADDRESSES_COPY",h="ROUTES",O="EDIT_MODE",E="TRAVEL_MODE",w="VALUE_FROM",k="TOGGLE_OPTIONS_CSS",j="WRAPPER_CSS";function C(e){return{type:h,routes:e}}function M(e){return{type:b,addresses:e}}function N(e){return{type:v,addresses:e}}function A(e){return{type:y,markers:e}}function T(e){return{type:f,poly:e}}function S(e){return{type:g,waypoints:e}}var I=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={center:{lat:46.482886,lng:30.73543}},r.loadGoogleData=function(e){r.props.googleApi(e)},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=new google.maps.Map(document.getElementById("map"),{center:e.state.center,zoom:5,mapTypeId:"roadmap",gestureHandling:"greedy",disableDefaultUI:!0});e.loadGoogleData(t)},500)}},{key:"render",value:function(){return a.a.createElement("div",{id:"map"})}}]),t}(a.a.Component);var D=Object(d.b)(null,function(e){return{googleApi:function(t){return e({type:m,google:t})}}})(I),P=r(3),x=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).toggleOptions=function(){"settings fast animated fadeInLeft"===r.props.toggleOptionsCss?(r.props.toggleOptions("settings fast animated fadeOutLeft"),setTimeout(function(){r.props.wrapperCss("settings-wrapper z0")},500)):(r.props.toggleOptions("settings fast animated fadeInLeft"),r.props.wrapperCss("settings-wrapper"))},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(P.o,{color:"elegant-color-dark",dark:!0,expand:"md"},a.a.createElement(P.p,null,a.a.createElement("strong",{className:"white-text"},"RouteFinder")),a.a.createElement(P.a,{className:"toggleOptions",onClick:this.toggleOptions,color:"amber",size:"sm"},"Toggle options"))}}]),t}(n.Component);var R,L,_=Object(d.b)(function(e){return{toggleOptionsCss:e.map.toggleOptionsCss}},function(e){return{toggleOptions:function(t){return e(function(e){return{type:k,css:e}}(t))},wrapperCss:function(t){return e(function(e){return{type:j,css:e}}(t))}}})(x),W=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(P.f,{size:this.props.size,className:this.props.className},a.a.createElement(P.b,{className:this.props.cardClassname},a.a.createElement(P.c,null,a.a.createElement(P.e,null,this.props.title),this.props.children)))}}]),t}(n.Component),F=r(30),G=r(38),V=r(31),z=r.n(V),B=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={toggle:!1},r.recreatePoly=function(){var e=r.props.waypoints,t=new google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});t.setMap(r.props.google),r.props.setWaypoints(e),r.props.setPolyline(t)},r.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex,a=r.props.polyline;a.setMap(null),r.props.setAddresses(z()(r.props.addresses,t,n)),r.props.setWaypoints(z()(r.props.waypoints,t,n)),r.props.setMarkers(z()(r.props.markers,t,n)),r.props.setPolyline(a),r.recreatePoly()},r.deleteMarker=function(e){var t=r.props.markers,n=t[e],a=r.props.addresses,o=r.props.waypoints,s=!0,l=!1,i=void 0;try{for(var p,c=t.entries()[Symbol.iterator]();!(s=(p=c.next()).done);s=!0){var u=p.value,d=Object(F.a)(u,2),m=d[0],g=d[1];g===n&&(g.setMap(null),t.splice(m,1),o.splice(m,1),a.splice(m,1),r.props.polyline.getPath().removeAt(m),r.props.setMarkers(t),r.props.setAddresses(a),r.props.setWaypoints(o))}}catch(f){l=!0,i=f}finally{try{s||null==c.return||c.return()}finally{if(l)throw i}}r.setState({toggle:!r.state.toggle})},r.setPointAsCenter=function(e){var t=r.props.markers[e];t={lat:t.getPosition().lat(),lng:t.getPosition().lng()},r.props.google.setCenter(t)},r.addListItem=function(){return Object.keys(r.props.addresses).map(function(e,t){var n=r.props.addresses[e];return a.a.createElement("div",{key:"item-"+t,className:"list-item-box"},a.a.createElement("div",{className:"delete-item-box index-class",key:"indexBox-"+t},a.a.createElement("span",{key:"index-"+t,className:"delete-item-btn"},t+1)),a.a.createElement(P.n,{onClick:r.setPointAsCenter.bind(null,e),hover:!0,key:t},n),a.a.createElement("div",{className:"delete-item-box",key:"box-"+t,onClick:r.deleteMarker.bind(null,e)},a.a.createElement("span",{key:"x-"+t,className:"delete-item-btn"},"X")))})},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){R=Object(G.SortableElement)(function(e){var t=e.value;return a.a.createElement("div",{className:"list-item-box"},a.a.createElement(P.n,{hover:!0},t))}),L=Object(G.SortableContainer)(function(e){var t=e.items;return a.a.createElement("div",null,t.map(function(e,t){return a.a.createElement(R,{key:"item-".concat(t),index:t,value:e})}))})}},{key:"render",value:function(){var e;return e=this.props.editMode?this.addListItem():a.a.createElement(L,{items:this.props.addresses,onSortEnd:this.onSortEnd}),a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Waypoints"),a.a.createElement(P.m,{style:{marginTop:"25px"}},this.props.addresses.length>=1?e:"No waypoints created"))}}]),t}(n.Component);var Y=Object(d.b)(function(e){return{google:e.map.google,waypoints:e.map.waypoints,polyline:e.map.polyline,markers:e.map.markers,addresses:e.map.addresses,editMode:e.map.editMode}},function(e){return{setWaypoints:function(t){return e(S(t))},setAddresses:function(t){return e(N(t))},setMarkers:function(t){return e(A(t))},setPolyline:function(t){return e(T(t))}}})(B);function K(e){switch(e){case"pointCreated":P.s.success("Waypoint created");break;case"pointError":P.s.error("Incorrect place to draw a line");break;case"placeError":P.s.error("Please select a place from the list");break;case"routeCreated":P.s.success("Route created");break;case"routeError":P.s.error("Its too far to create this route");break;case"routeDelete":P.s.warn("Route deleted");break;case"noResults":P.s.warn("No results for this request")}}function U(){P.s.dismiss()}var X=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={deleteDumbToggle:!1},r.deleteRoute=function(e){var t=r.props.addressesCopy,n=r.props.routes;t.splice(e,1),n[e].setMap(null),n.splice(e,1),r.props.setRoutes(n),r.props.setAddressesCopy(t),K("routeDelete"),r.setState({deleteDumbToggle:!r.state.deleteDumbToggle})},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",{style:{marginTop:"10px"}},"Routes"),a.a.createElement(P.m,{style:{marginTop:"25px"}},this.props.routes.length>0?Object.keys(this.props.routes).map(function(t,r){var n=e.props.addressesCopy[t],o=n.from,s=n.to;return a.a.createElement("div",{key:"item-"+r,className:"list-item-box"},a.a.createElement("div",{className:"delete-item-box index-class",key:"indexBox-"+r},a.a.createElement("span",{key:"index-"+r,className:"delete-item-btn"},r+1)),a.a.createElement(P.n,{hover:!0,key:r},"From: ",o," To: ",s),a.a.createElement("div",{className:"delete-item-box",key:"box-"+r,onClick:e.deleteRoute.bind(null,t)},a.a.createElement("span",{key:"x-"+r,className:"delete-item-btn"},"X")))}):"No routes created"))}}]),t}(n.Component);var q=Object(d.b)(function(e){return{addressesCopy:e.map.addressesCopy,routes:e.map.routes,waypoints:e.map.waypoints}},function(e){return{setAddressesCopy:function(t){return e(M(t))},setRoutes:function(t){return e(C(t))}}})(X),J=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).chooseTravelMode=function(e){switch(e.target.value){case"DRIVING":r.props.setTravelMode(google.maps.DirectionsTravelMode.DRIVING);break;case"WALKING":r.props.setTravelMode(google.maps.DirectionsTravelMode.WALKING);break;case"TRANSIT":r.props.setTravelMode(google.maps.DirectionsTravelMode.TRANSIT);break;case"BICYCLING":r.props.setTravelMode(google.maps.DirectionsTravelMode.BICYCLING)}},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.setTravelMode(google.maps.DirectionsTravelMode.DRIVING)},1e3)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.h,{size:"sm",style:{display:"inline-flex"},onClick:this.chooseTravelMode},a.a.createElement(P.k,{caret:!0,color:"mdb-color",defaultValue:this.props.travelMode},"Travel Mode"),a.a.createElement(P.j,null,a.a.createElement(P.i,{value:"DRIVING"},"Driving"),a.a.createElement(P.i,{value:"BICYCLING"},"Bicycling"),a.a.createElement(P.i,{value:"TRANSIT"},"Transit"),a.a.createElement(P.i,{value:"WALKING"},"Walking"))),a.a.createElement("p",null,"Travel mode: ",this.props.travelMode.toLowerCase()))}}]),t}(n.Component);var H=Object(d.b)(function(e){return{travelMode:e.map.travelMode}},function(e){return{setTravelMode:function(t){return e({type:E,mode:t})}}})(J),Q=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).deleteAllMarkers=function(){r.props.polyline.setMap(null);var e=r.props.markers,t=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){o.value.setMap(null)}}catch(l){n=!0,a=l}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}e=[],r.props.setMarkers(e),r.props.setAddresses([])},r.createRoute=function(){if(U(),!(r.props.waypoints.length<2)){var e,t=r.props.addresses,n=r.props.addressesCopy;n.push({from:t[0],to:t[t.length-1]});var a=new google.maps.DirectionsService,o=new google.maps.DirectionsRenderer;if(o.setOptions({suppressMarkers:!1}),o.setMap(r.props.google),r.props.waypoints.length>2){var s=r.props.waypoints,l=[],i=!0,p=!1,c=void 0;try{for(var u,d=s[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var m=u.value;l.push({location:m,stopover:!0})}}catch(g){p=!0,c=g}finally{try{i||null==d.return||d.return()}finally{if(p)throw c}}l.splice(0,1),l.splice(l.length-1,1),e={origin:new google.maps.LatLng(r.props.waypoints[0]),destination:new google.maps.LatLng(r.props.waypoints[r.props.waypoints.length-1]),waypoints:l,optimizeWaypoints:!1,travelMode:r.props.travelMode}}else e={origin:new google.maps.LatLng(r.props.waypoints[0]),destination:new google.maps.LatLng(r.props.waypoints[r.props.waypoints.length-1]),optimizeWaypoints:!1,travelMode:r.props.travelMode};a.route(e,function(e,t){if(t===window.google.maps.DirectionsStatus.OK){r.deleteAllMarkers(),o.setDirections(e),K("routeCreated"),o.setMap(r.props.google);var a=r.props.routes;a.push(o),r.props.setWaypoints([]),r.props.setRoutes(a),r.props.setAddressesCopy(n)}else K("routeError")})}},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(P.a,{size:"sm",onClick:this.createRoute},"Create Route")}}]),t}(n.Component);var Z=Object(d.b)(function(e){return{google:e.map.google,waypoints:e.map.waypoints,polyline:e.map.polyline,markers:e.map.markers,addresses:e.map.addresses,addressesCopy:e.map.addressesCopy,travelMode:e.map.travelMode,routes:e.map.routes}},function(e){return{setWaypoints:function(t){return e(S(t))},setAddresses:function(t){return e(N(t))},setMarkers:function(t){return e(A(t))},setAddressesCopy:function(t){return e(M(t))},setRoutes:function(t){return e(C(t))}}})(Q);var $=Object(d.b)(function(e){return{editMode:e.map.editMode}},function(e){return{setEditMode:function(t){return e({type:O,mode:t})}}})(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"checkbox",id:"id-name--1",name:"edit-mode",className:"switch-input",onChange:function(){return e.setEditMode(!e.editMode)}}),a.a.createElement("label",{htmlFor:"id-name--1",className:"switch-label"},"Edit mode",a.a.createElement("span",{className:"toggle--on"},"On"),a.a.createElement("span",{className:"toggle--off"},"Off")))}),ee=r(32),te=r.n(ee),re=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).setPoint=function(e,t){r.props.google.setCenter(e);var n=r.props.waypoints,a=r.props.polyline,o=r.props.markers;n.length>1&&a.setMap(null),n.push(e);var s=new google.maps.Marker({position:e,map:r.props.google,draggable:!0,animation:google.maps.Animation.DROP});o.push(s),(a=new google.maps.Polyline({path:n,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2})).setMap(r.props.google),r.props.setWaypoints(n),r.props.setPolyline(a),r.props.setMarkers(o);var l=new google.maps.InfoWindow({content:t});s.addListener("click",function(){l.open(r.props.google,s)}),google.maps.event.addListener(s,"dragend",function(){r.getNewAddress(s,s.getPosition()),setTimeout(function(){l.setContent(r.state.tempAddress)},500)})},r.getNewAddress=function(e,t){U();var n=r.props.polyline;n.setMap(null),r.props.setPolyline(n);var a,o=r.props.markers,s=r.props.waypoints,l=r.props.addresses,i=!0,p=!1,c=void 0;try{for(var u,d=o.entries()[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var m=u.value,g=Object(F.a)(m,2),f=g[0],y=g[1];e===y&&(a=f)}}catch(v){p=!0,c=v}finally{try{i||null==d.return||d.return()}finally{if(p)throw c}}(new google.maps.Geocoder).geocode({latLng:t},function(t,n){if(n===google.maps.GeocoderStatus.OK){l[a]=t[0].formatted_address;var i={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};o[a]=e,s[a]=i,r.props.setMarkers(o),r.props.setAddresses(l),r.props.setWaypoints(s),r.setState({tempAddress:t[0].formatted_address})}else K("pointError"),o[a].setPosition(s[a]),r.props.setMarkers(o)}),setTimeout(function(){r.recreatePoly()},500)},r.setMarker=function(e,t){e?(K("pointCreated"),r.setPoint(e,t)):K("placeError")},r.handleSelect=function(e){U();var t=r.props.addresses;Object(ee.geocodeByAddress)(e).then(function(e){return Object(ee.getLatLng)(e[0])}).then(function(n){t.push(e),r.props.setValueFrom(""),r.props.setAddresses(t),r.setMarker(n,e)}).catch(function(){r.setMarker()})},r.onError=function(e,t){U(),K("noResults"),t()},r.recreatePoly=function(){var e=r.props.waypoints,t=new google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});t.setMap(r.props.google),r.props.setWaypoints(e),r.props.setPolyline(t)},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(te.a,{value:this.props.valueFrom,onChange:function(t){return e.props.setValueFrom(t)},onSelect:this.handleSelect,onError:this.onError},function(e){var t=e.getInputProps,r=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return a.a.createElement("div",null,a.a.createElement(P.l,Object.assign({hint:"Add waypoint",id:"from_value",name:"valueFrom"},t({placeholder:"Search Places ...",className:"location-search-input"}))),a.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&a.a.createElement("div",{className:"spinner-grow text-info",role:"status"}),r.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",r=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return a.a.createElement("div",n(e,{className:t,style:r}),a.a.createElement("span",null,e.description))})))})}}]),t}(n.Component);var ne=Object(d.b)(function(e){return{google:e.map.google,waypoints:e.map.waypoints,polyline:e.map.polyline,markers:e.map.markers,addresses:e.map.addresses,valueFrom:e.map.valueFrom}},function(e){return{setWaypoints:function(t){return e(S(t))},setAddresses:function(t){return e(N(t))},setMarkers:function(t){return e(A(t))},setPolyline:function(t){return e(T(t))},setValueFrom:function(t){return e({type:w,value:t})}}})(re),ae=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={loaded:!1},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){!1===this.state.loaded&&this.setState({loaded:!0})}},{key:"render",value:function(){return a.a.createElement(W,{title:"Settings",size:"12",className:this.props.wrapperCss,cardClassname:this.props.toggleOptionsCss},a.a.createElement(P.d,null,"You can choose variant with arrows and press Enter to add a waypoint."),!!this.props.google&&a.a.createElement(ne,null),a.a.createElement("div",{className:"options"},a.a.createElement(Z,null),a.a.createElement($,null),a.a.createElement(H,null)),a.a.createElement(Y,null),a.a.createElement(q,null))}}]),t}(n.Component);var oe=Object(d.b)(function(e){return{google:e.map.google,toggleOptionsCss:e.map.toggleOptionsCss,wrapperCss:e.map.wrapperCss}},null)(ae),se=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},!this.props.google&&a.a.createElement("div",{className:"preloader"},a.a.createElement("div",{className:"spinner-grow text-info",role:"status"})),a.a.createElement(_,null),a.a.createElement(P.g,{fluid:!0},a.a.createElement(P.r,{className:"toaster",hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),a.a.createElement(P.q,{around:!0},a.a.createElement(oe,null),a.a.createElement(D,null))))}}]),t}(n.Component);var le=Object(d.b)(function(e){return{google:e.map.google}})(se),ie=r(17),pe=r(13),ce={google:"",waypoints:[],polyline:[],markers:[],addresses:[],editMode:!0,valueFrom:"",routes:[],tempAddress:"",addressesCopy:[],toggleOptionsCss:"d-none",wrapperCss:"settings-wrapper z0",travelMode:"",travelModeDefault:!1};var ue=Object(ie.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(pe.a)({},e,{editMode:t.mode});case w:return Object(pe.a)({},e,{valueFrom:t.value});case h:return Object(pe.a)({},e,{routes:t.routes});case E:return Object(pe.a)({},e,{travelMode:t.mode});case f:return Object(pe.a)({},e,{polyline:t.poly});case y:return Object(pe.a)({},e,{markers:t.markers});case v:return Object(pe.a)({},e,{addresses:t.addresses});case b:return Object(pe.a)({},e,{addressesCopy:t.addresses});case g:return Object(pe.a)({},e,{waypoints:t.waypoints});case k:return Object(pe.a)({},e,{toggleOptionsCss:t.css});case j:return Object(pe.a)({},e,{wrapperCss:t.css});case m:return Object(pe.a)({},e,{google:t.google});default:return e}}}),de=r(51),me="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ie.d,ge=Object(ie.e)(ue,me(Object(ie.a)(de.a))),fe=a.a.createElement(d.a,{store:ge},a.a.createElement(le,null));s.a.render(fe,document.getElementById("root"))},52:function(e,t,r){e.exports=r(130)},57:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){}},[[52,1,2]]]);
//# sourceMappingURL=main.1a9175a9.chunk.js.map